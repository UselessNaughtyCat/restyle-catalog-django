{% extends "base.html" %}
{% block title %}{{ title }}{% endblock %}

{% load widget_tweaks %}
{% block main %}
<h2>{{ title }}</h2>
<form action="" method="post" enctype="multipart/form-data" class="pb-4">
    {% csrf_token %}
    <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <a class="nav-item nav-link active" id="nav-style-common-tab" data-toggle="tab" href="#nav-style-common" role="tab" aria-controls="nav-style-common"aria-selected="true">
                Общее
            </a>
            <a class="nav-item nav-link" id="nav-style-source-tab" data-toggle="tab" href="#nav-style-source" role="tab" aria-controls="nav-style-source"aria-selected="false">
                Исходник
            </a>
        </div>
    </nav>
    <div class="tab-content">
        <div class="tab-pane fade show active py-3" id="nav-style-common" role="tabpanel" aria-labelledby="nav-style-common-tab">
            <div class="form-group">
                {{ form.name.label_tag }}
                {{ form.name|add_class:"form-control" }}
            </div>
            <div class="form-group">
                {{ form.logo.label_tag }}
                <div class="form-control">{{ form.logo }}</div>
            </div>
            <div class="form-group">
                {{ form.site.label_tag }}
                <div class="input-group">
                    {{ form.site|add_class:"custom-select" }}
                    <div class="input-group-append">
                        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseSite" aria-expanded="false" aria-controls="collapseSite">
                            Добавить новый сайт
                        </button>
                    </div>
                </div>
                <div class="collapse" id="collapseSite">
                    <small class="form-text text-muted mb-1">Оставьте поля пустыми, если не требуется добавлять новый сайт.</small>
                    <div class="form-control px-4 py-3">
                        <div class="form-group">
                            <label>Название сайта:</label>
                            <input name="site_name" type="text" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>Домены:</label>
                            <textarea name="site_urls" class="form-control" rows="2"></textarea>
                            <small class="form-text text-muted">Разделяйте домены пробелом.</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                {{ form.description.label_tag }}
                {{ form.description|add_class:"form-control" }}
            </div>
        </div>
        <div class="tab-pane fade py-3" id="nav-style-source" role="tabpanel" aria-labelledby="nav-style-source-tab">
            <div class="form-group">
                {{ form.source.label_tag }}
                {{ form.source|add_class:"form-control font-monospace" }}
            </div>
        </div>
    </div>

    <input type="submit" class="btn btn-primary" value="Применить">
</form>
{% endblock %}