{% extends "base.html" %}
{% load widget_tweaks %}
{% block title %}
{{ title }}
{% endblock %}
{% block main %}
<h2>{{ title }}</h2>
<form action="" method="post" enctype="multipart/form-data" class="pb-4">
    {% csrf_token %}
    <div class="form-group">
        {{ form.name.label_tag }}
        {{ form.name|add_class:"form-control" }}
    </div>
    <div class="form-group">
        {{ form.logo.label_tag }}
        <div class="form-control">{{ form.logo }}</div>
    </div>
    <div class="form-group">
        {{ form.site.label_tag }}
        <div class="input-group">
            {{ form.site|add_class:"custom-select" }}
            <div class="input-group-append">
                <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseSite" aria-expanded="false" aria-controls="collapseSite">
                    Добавить новый сайт
                </button>
            </div>
        </div>
        <div class="collapse" id="collapseSite">
            <small class="form-text text-muted mb-1">Оставьте поля пустыми, если не требуется добавлять новый сайт.</small>
            <div class="form-control px-4 py-3">
                <div class="form-group">
                    <label>Название сайта:</label>
                    <input name="site_name" type="text" class="form-control">
                </div>
                <div class="form-group">
                    <label>Домены:</label>
                    <textarea name="site_urls" class="form-control" rows="2"></textarea>
                    <small class="form-text text-muted">Разделяйте домены пробелом.</small>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group">
        {{ form.description.label_tag }}
        {{ form.description|add_class:"form-control" }}
    </div>
    <div class="form-group">
        {{ form.source.label_tag }}
        {{ form.source|add_class:"form-control" }}
    </div>
    <input type="submit" class="btn btn-primary" value="Применить">
</form>
{% endblock %}